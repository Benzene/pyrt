var ls=null,socket_protocol="https:"==window.document.location.protocol?"wss":"ws",hiddenclasstypes=[];
$(document).ready(function(){var a=window.location.pathname;ls=new window.WebSocket(socket_protocol+"://"+window.location.host+a.substring(0,a.lastIndexOf("/")+1)+"logsocket");ls.onmessage=onMessage;ls.onerror=function(a){console.log("logSocket error",a,ls)};ls.onopen=function(a){console.log("logSocket opened",a,ls)};ls.onclose=function(a){console.log("logSocket closed",a,ls)};setInterval(function(){ls.send("ping")},4E4);$(".log_control").bind("click",function(a){$(this).hasClass("selected")?("log_control_1"==
$(this).attr("id")?($(".log_message.level_1").addClass("hidden_message"),hiddenclasstypes.push("level_1")):"log_control_2"==$(this).attr("id")?($(".log_message.level_2").addClass("hidden_message"),hiddenclasstypes.push("level_2")):"log_control_3"==$(this).attr("id")?($(".log_message.level_3").addClass("hidden_message"),hiddenclasstypes.push("level_3")):"log_control_4"==$(this).attr("id")&&($(".log_message.level_4").addClass("hidden_message"),hiddenclasstypes.push("level_4")),$(this).removeClass("selected")):
("log_control_1"==$(this).attr("id")?($(".log_message.level_1").removeClass("hidden_message"),hiddenclasstypes.splice(hiddenclasstypes.indexOf("level_1"),1)):"log_control_2"==$(this).attr("id")?($(".log_message.level_2").removeClass("hidden_message"),hiddenclasstypes.splice(hiddenclasstypes.indexOf("level_2"),1)):"log_control_3"==$(this).attr("id")?($(".log_message.level_3").removeClass("hidden_message"),hiddenclasstypes.splice(hiddenclasstypes.indexOf("level_3"),1)):"log_control_4"==$(this).attr("id")&&
($(".log_message.level_4").removeClass("hidden_message"),hiddenclasstypes.splice(hiddenclasstypes.indexOf("level_4"),1)),$(this).addClass("selected"))})});function getLatestID(){var a=$(".log_row:first-child");return a.length?"&lastID="+a.attr("id"):""}function onMessage(a){a=$(a.data);for(i=0;i<hiddenclasstypes.length;i++)a.hasClass(hiddenclasstypes[i])&&a.addClass("hidden_message");$("#log_table").prepend(a);setTimeout(removeNew,2E3)}
function removeNew(){$(".new_message").each(function(){$(this).removeClass("new_message")})};
